{"version":3,"sources":["webpack:///webpack/bootstrap bde85696acc177d1d805","webpack:///./index.js","webpack:///./src/game/game.js","webpack:///./src/game/dog.js","webpack:///./src/game/movingobject.js","webpack:///./src/game/obstacle.js"],"names":["document","addEventListener","canvasEl","getElementById","ctx","getContext","game","initListeners","loadGame","keyDownHandler","e","keyCode","spacePressed","keyUpHandler","Game","obstacles","house","dog","finished","fencesToGo","FENCES_TO_WIN","set","frameRate","loadCycle","bind","startSprite","canvas","start","removeEventListener","setInterval","frame","length","addObstacles","removeObstacles","won","gameOver","checkObstacles","checkCollisions","checkJumps","draw","object","push","clearRect","DIM_X","DIM_Y","allObjects","forEach","Image","onload","drawImage","src","x","y","Math","floor","random","imageNum","add","console","log","shift","concat","i","obj1","obj2","collidedWith","houseSprite","winDogSprite","winSprite","clearInterval","gameOverSprite","sadDogSprite","jumping","jump","animateJump","Dog","options","srcX","srcY","trackRight","rows","columns","spriteWidth","spriteHeight","width","height","curFrame","frameCount","jumpFrame","y_velocity","prototype","updateFrame","clearFloor","context","dogSprite","MovingObject","h","w","shape","minheight","Obstacle","obstacleSprite","OBSTACLE_IMAGES"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bde85696acc177d1d805","import Game from \"./src/game/game\";\nimport GameView from \"./src/game/gameview\";\n\n\nimport Dog from \"./src/game/dog\";\nimport MovingObject from \"./src/game/movingobject\";\nimport Obstacle from \"./src/game/obstacle\";\nimport Utility from \"./src/game/utility\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementById(\"game\");\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game(ctx);\n\n\n  initListeners(game);\n  game.loadGame();\n});\n\nfunction initListeners(game){\n  const keyDownHandler = (e)=>{\n    if(e.keyCode === 32) {\n      game.spacePressed = true;\n    }\n  };\n\n  const keyUpHandler = (e) => {\n    if(e.keyCode === 32) {\n        game.spacePressed = false;\n    }\n  };\n\n  document.addEventListener(\"keydown\", keyDownHandler, false);\n  document.addEventListener(\"keyup\", keyUpHandler, false);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import Dog from \"./dog\";\nimport Obstacle from \"./obstacle\";\n\nexport default class Game{\n  constructor(ctx){\n    this.obstacles = [];\n    this.house = [];\n    this.dog = new Dog();\n    this.finished = false;\n    this.ctx = ctx;\n    this.spacePressed = false;\n    this.fencesToGo = Game.FENCES_TO_WIN;\n    this.set = null;\n    this.frameRate = 10;\n\n    this.loadCycle = this.loadCycle.bind(this);\n  }\n\n  loadGame() {\n    this.startSprite();\n    this.ctx.canvas.addEventListener('click', this.loadCycle);\n  }\n\n  loadCycle(){\n    this.start();\n    this.ctx.canvas.removeEventListener('click', this.loadCycle);\n  }\n\n  start() {\n    this.finished = false;\n\n    // this.set = requestAnimationFrame(animate)\n    this.set = setInterval(() => this.frame(), 80);\n  }\n\n  animate(){\n    // requestAnimationFrame(animate)\n\n  }\n\n  checkObstacles(){\n    if (this.fencesToGo >= 1) {\n      if (this.obstacles.length < 3){ this.addObstacles(); }\n      this.removeObstacles();\n    }\n  }\n\n  frame(){\n    //if game is finished handle\n    if (this.fencesToGo <= 0){\n      this.won();\n      return true;\n    } else if (this.finished === true) {\n        this.gameOver();\n        return false;\n      }\n    this.checkObstacles();\n    this.checkCollisions();\n    this.checkJumps();\n    this.draw(this.ctx);\n  }\n\n  add(object) {\n   if (object instanceof Obstacle) {\n      this.obstacles.push(object);\n    }\n  }\n\n  draw(ctx) {\n    this.ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n    this.allObjects().forEach((object) => {\n      object.draw(ctx);\n    });\n  }\n\n  startSprite(){\n    const startSprite = new Image();\n    startSprite.onload= () => {\n      this.ctx.drawImage(startSprite, 300, 250, 200, 100);\n    };\n    startSprite.src = \"src/images/start.png\";\n  }\n\n  addObstacles() {\n    //if won -> don't add obstacles\n    if ( this.fencesToGo <= 0){ return this.won();}\n    //create a random spot for the fence but make sure it's big enough\n    let x;\n\n    if (this.obstacles.length >= 1) {\n      // if have obstacle make sure they are a good distance apart\n      let y = Math.floor((Math.random() * 400) + 1) + 250;\n      x = this.obstacles[this.obstacles.length - 1].x + y;\n    } else {\n      x = Math.floor((Math.random() * 1000) + 1);\n      if (x < 850){\n        x += 250;\n      }\n    }\n    //choose a random number for fence image\n    let imageNum = Math.floor((Math.random() * 7) + 1);\n    this.add(new Obstacle(x, imageNum));\n  }\n\n  removeObstacles() {\n    //if an obstacle has gone off screen - remove\n    if (this.obstacles.length >= 3){\n      if (this.obstacles[0].x < -150){\n        console.log(\"remove!\");\n        this.obstacles.shift();\n        this.fencesToGo -= 1;\n      }\n    }\n  }\n\n  allObjects() {\n    return [].concat(this.dog, this.obstacles);\n  }\n\n  checkCollisions() {\n    for (let i = 0; i < this.obstacles.length; i++) {\n      const obj1 = this.dog;\n      const obj2 = this.obstacles[i];\n      if (obj1.collidedWith(obj2)) {\n        this.obstacles = [];\n        this.finished = true;\n      }\n    }\n  }\n\n\n  won() {\n    if ( this.fencesToGo <= 0){\n      this.ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n      const houseSprite = new Image();\n      houseSprite.onload= () => {\n      this.ctx.drawImage(houseSprite, 500, 120, 500, 500);\n    };\n\n      const winDogSprite = new Image();\n      winDogSprite.onload= () => {\n      this.ctx.drawImage(winDogSprite, 20, 390, 150,150);\n      };\n\n      const winSprite = new Image();\n      winSprite.onload= () => {\n        this.ctx.drawImage(winSprite, 240, 0, 300,300);\n      };\n\n      const startSprite = new Image();\n      startSprite.onload= () => {\n        this.ctx.drawImage(startSprite, 280, 350, 200,100);\n      };\n\n      startSprite.src = \"src/images/start.png\";\n      winDogSprite.src = \"src/images/dogWin.png\";\n      houseSprite.src = \"src/images/houseSprite.png\";\n      winSprite.src = \"src/images/winSprite.png\";\n\n      this.finished = true;\n      this.fencesToGo = Game.FENCES_TO_WIN;\n      clearInterval(this.set);\n      this.ctx.canvas.addEventListener('click', this.loadCycle);\n    } else {\n      this.finished = false;\n    }\n  }\n\n  gameOver(){\n    this.ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n    this.startSprite();\n\n    const gameOverSprite = new Image();\n    gameOverSprite.onload= () => {\n      this.ctx.drawImage(gameOverSprite, 300, 80, 200,100);\n    };\n\n    const sadDogSprite = new Image();\n    sadDogSprite.onload= () => {\n      this.ctx.drawImage(sadDogSprite, 20, 360, 200,200);\n    };\n\n    sadDogSprite.src = \"src/images/dog gameover.png\";\n    gameOverSprite.src = \"src/images/gameover.png\";\n\n    this.ctx.canvas.addEventListener('click', this.loadCycle);\n    this.fencesToGo = Game.FENCES_TO_WIN;\n    clearInterval(this.set);\n  }\n\n  checkJumps(){\n    if (this.spacePressed && this.dog.jumping === false) {\n      this.dog.jump();\n    }\n    if (this.dog.jumping === true){\n      this.dog.animateJump();\n    }\n  }\n}\n\n\nGame.FENCES_TO_WIN = 10;\nGame.DIM_X = 800;\nGame.DIM_Y = 600;\n\n\n\n// WEBPACK FOOTER //\n// ./src/game/game.js","import MovingObject from \"./movingobject.js\";\n\n   class Dog extends MovingObject{\n     constructor(options){\n       super();\n       this.x= 100;\n       this.y= 470;\n       this.srcX=0;\n       this.srcY=0;\n       this.trackRight = 0;\n       this.rows = 1;\n       this.columns= 4;\n       this.spriteWidth = 410;\n       this.spriteHeight = 120;\n       this.width = this.spriteWidth/this.columns;\n       this.height = this.spriteHeight/this.rows;\n       this.curFrame = 0;\n       this.frameCount = 4;\n\n       this.jumping = false;\n       this.jumpFrame = 13;\n       this.y_velocity = 0;\n     }\n   }\n\n\n  Dog.prototype.updateFrame = function(){\n    this.curFrame = ++this.curFrame % this.frameCount;\n    this.srcX = this.curFrame * this.width;\n  };\n\n  Dog.prototype.clearFloor = function(){\n    if (this.y > 470){\n      this.jumping = false;\n      this.y = 470;\n      this.y_velocity = 0;\n    }\n  };\n\n  Dog.prototype.animateJump = function(){\n    if (this.jumpFrame < 1){\n      return false;\n    }\n\n    this.y -= 31;\n    this.jumpFrame -= 1;\n  };\n\n  Dog.prototype.jump = function(){\n    this.jumping = true;\n    this.jumpFrame = 13;\n    this.y -= 35;\n  };\n\n  Dog.prototype.draw = function(context){\n    this.y_velocity += 20.5;\n    this.y += this.y_velocity;\n    this.y_velocity *= .09;\n\n    this.clearFloor();\n    this.updateFrame();\n\n    const dogSprite = new Image();\n    dogSprite.src = \"src/images/dogRunBig-resize.png\";\n    context.drawImage(dogSprite,this.srcX,this.srcY,this.width,\n      this.height,this.x,this.y,this.width,this.height);\n  };\n\n\nexport default Dog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/game/dog.js","\nexport default class MovingObject{\n  constructor(x,y,h,w){\n    this.x = x;\n    this.y = y;\n    this.height = h;\n    this.width = w;\n  }\n\n  collidedWith(shape){\n    let minheight = (this.height + shape.height) / 2;\n    if ((this.x > (shape.x - 40)) && ((this.y - minheight) >= 295) && (shape.x > 30)){\n        return true;\n      } else\n      return false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/game/movingobject.js","import MovingObject from \"./movingobject\";\n\nexport default class Obstacle extends MovingObject{\n  constructor(x, imageNum){\n    super();\n    this.x = x;\n    this.y = 470;\n    this.height = 100;\n    this.width = 100;\n    this.obstacleSprite = new Image();\n    this.obstacleSprite.src = Obstacle.OBSTACLE_IMAGES[imageNum];\n  }\n\n  draw(ctx){\n    this.x -= 15;\n    ctx.drawImage(this.obstacleSprite,this.x,this.y, 110, 110);\n  }\n\n}\n\nObstacle.OBSTACLE_IMAGES = {\n  1:\"src/images/shell.png\",\n  2:\"src/images/fence.png\",\n  3:\"src/images/fence2.png\",\n  4:\"src/images/sheep.png\",\n  5:\"src/images/fire.png\",\n  6:\"src/images/bush.png\",\n  7:\"src/images/fence.png\",\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/game/obstacle.js"],"sourceRoot":""}